<html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<body ng-app="myApp" >


TEST CARDS.....

4242424242424242	Visa	Any 3 digits	Any future date  <BR><BR>
4000056655665556	Visa (debit)	Any 3 digits	Any future date  <BR><BR>
5555555555554444	Mastercard	Any 3 digits	Any future date <BR><BR>
2223003122003222	Mastercard (2-series)	Any 3 digits	Any future date <BR><BR>
5200828282828210	Mastercard (debit)	Any 3 digits	Any future date <BR><BR>
5105105105105100	Mastercard (prepaid)	Any 3 digits	Any future date  <BR><BR>
378282246310005	American Express	Any 4 digits	Any future date  <BR><BR>
371449635398431	American Express	Any 4 digits	Any future date  <BR><BR>
6011111111111117	Discover	Any 3 digits	Any future date  <BR><BR>
6011000990139424	Discover	Any 3 digits	Any future date  <BR><BR>
3056930009020004	Diners Club	Any 3 digits	Any future date  <BR><BR>
36227206271667	Diners Club (14 digit card)	Any 3 digits	Any future date  <BR><BR>
3566002020360505	JCB	Any 3 digits	Any future date  <BR><BR>
6200000000000005  <BR><BR>


<div ng-controller="myCtrl">


<form name="form1">

   <input type="text" name="amount" value="1000">
<br>

  <p>Click the button to run a function:</p>
  <button ng-click="myFunc()">OK</button>
</form>


</div>

<script>

  
angular.module('myApp', [])
  .controller('myCtrl', ['$scope','$http', function($scope,$http) {
   
    $scope.count = 0;

   //THIS FUNCTION IS CALLED DURING THE PAGE LOAD... because you set ng-init="myFunc()"
    $scope.myFunc = function() {
      $scope.count++;

      alert(document.form1.amount.value);
      
       var paymentRequest= new Object();
   
       	paymentRequest.firstName='Panna';
	    paymentRequest.lastName='Lal';
	    paymentRequest.email='panna@pannalal.com';
	    paymentRequest.cardNumber='4242424242424242';
        paymentRequest.expMonth='08';
        paymentRequest.expYear='22';
        paymentRequest.cvv='314';
	    paymentRequest.amount='1000';

    alert(JSON.stringify(paymentRequest) );
$http({
        method : "POST",
        url : 'https://nd2fc9j7v8.execute-api.us-east-2.amazonaws.com/dev/stripe',
        data:JSON.stringify(paymentRequest)                     
         //headers : {'Content-Type': 'application/x-www-form-urlencoded'}
    }).then(function mySuccess(response) {
        alert("successfuly created is:=" + JSON.stringify(response.data));
    }, function myError(response) {
        alert(response.statusText);
    });


    } // end of this function..



   /*The below function is called when the OK button is clicked..*/

  $scope.wunnava= function() {
   alert("Hello Prasad Wunnava..");

  }

    
  }]);
</script>
</body>
</html>
